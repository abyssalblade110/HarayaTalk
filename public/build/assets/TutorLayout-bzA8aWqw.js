import{j as D,Q as C,d as p,T as B,P as _,o as r,e as i,a as t,F as w,h as b,b as g,w as L,n as m,t as h,i as k,E as y,G as M,k as S,R as T,g as v,f,r as P}from"./app-Bjdzi0DK.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as N,a as I}from"./useNotifications-BEkfTTTK.js";const j={components:{Link:D},setup(){const{props:s}=C(),e=p(s.csrfToken||document.querySelector('meta[name="csrf-token"]').getAttribute("content")),c=B({_token:e.value});return{csrfToken:e,submitLogout:()=>{c.post(route("logout"),{onFinish:()=>window.location.reload(),onError:o=>console.error("Logout error",o)})},links:[{route:"tutor.dashboard",icon:"fas fa-tachometer-alt",text:"Dashboard"},{route:"tutor.profile.show",icon:"fas fa-user",text:"Profile"},{route:"tutor.notifications.index",icon:"fas fa-bell",text:"Notifications"},{route:"tutor.overview.index",icon:"fas fa-chart-bar",text:"Overview"},{route:"tutor.classManagement.index",icon:"fas fa-chalkboard-teacher",text:"Class Management"},{route:"tutor.studentManagement.index",icon:"fas fa-users",text:"Student Management"},{route:"tutor.profileManagement.index",icon:"fas fa-user-cog",text:"Profile Management"},{route:"tutor.support.index",icon:"fas fa-life-ring",text:"Support"},{route:"tutor.taskManagement.index",icon:"fas fa-tasks",text:"Task Management"}],linkClass:o=>({"text-indigo-300":route().current(o),"hover:text-indigo-200":!0}),form:c}}},F=s=>(y("data-v-1cdc0052"),s=s(),M(),s),A={class:"glass-sidebar text-white min-h-screen p-6 flex flex-col justify-between shadow-xl pt-24"},H={class:"space-y-4"},V=["value"],E=F(()=>t("button",{type:"submit",class:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-md flex items-center justify-center transform transition-transform hover:scale-105"},[t("i",{class:"fas fa-sign-out-alt mr-3"}),t("span",null,"Logout")],-1));function R(s,e,c,n,d,a){const o=_("Link");return r(),i("div",A,[t("nav",null,[t("ul",H,[(r(!0),i(w,null,b(n.links,l=>(r(),i("li",{key:l.route},[g(o,{href:s.route(l.route),class:m([n.linkClass(l.route),"flex items-center p-3 rounded-lg hover:bg-neon-green transition-all duration-200 transform hover:scale-105"])},{default:L(()=>[t("i",{class:m(l.icon+" mr-3")},null,2),t("span",null,h(l.text),1)]),_:2},1032,["href","class"])]))),128))])]),t("form",{onSubmit:e[0]||(e[0]=k((...l)=>n.submitLogout&&n.submitLogout(...l),["prevent"])),class:"flex items-center w-full mt-6"},[t("input",{type:"hidden",name:"_token",value:n.csrfToken},null,8,V),E],32)])}const q=x(j,[["render",R],["__scopeId","data-v-1cdc0052"]]),z={name:"TutorHeader",props:{isDarkMode:{type:Boolean,default:!1},toggleDarkMode:{type:Function,required:!0}},setup(){const{profilePicture:s,fetchProfileData:e}=N(),{notifications:c,fetchNotifications:n,markAsRead:d}=I(),a=p(!0),o=S(()=>c.value.filter(l=>!l.read_at).length);return e(),n().finally(()=>{a.value=!1}),{profilePicture:s,notifications:c,unreadCount:o,markAsRead:d,loadingNotifications:a}},data(){return{balance:150.75,showBalance:!0,dropdowns:{notifications:!1,messages:!1,profile:!1}}},methods:{toggleDropdown(s){this.dropdowns[s]=!this.dropdowns[s]},submitLogout(){T.Inertia.post(route("logout"),{},{onFinish:()=>{window.location.href="/"}})},receivePayment(){this.balance+=50},withdrawBalance(){this.balance>=50?this.balance-=50:alert("Insufficient balance to withdraw")},toggleBalance(){this.showBalance=!this.showBalance}}},u=s=>(y("data-v-b46b2723"),s=s(),M(),s),G={class:"glass-header fixed top-0 left-0 w-full p-4 shadow-xl z-50"},O={class:"container mx-auto flex items-center justify-between"},Q=u(()=>t("h1",{class:"text-3xl font-extrabold text-neon"},"Tutor Portal",-1)),J={class:"flex items-center space-x-6"},K={class:"relative"},U={class:"text-white"},W={key:0},X=u(()=>t("i",{class:"fas fa-dollar-sign"},null,-1)),Y=[X],Z=u(()=>t("i",{class:"fas fa-hand-holding-usd"},null,-1)),$=[Z],tt={class:"relative"},et=u(()=>t("i",{class:"fas fa-bell"},null,-1)),ot={key:0,class:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center"},st={key:0,class:"dropdown-menu"},nt={key:0,class:"p-4 text-gray-700"},at={key:1,class:"p-4 text-gray-700"},rt={key:2,class:"max-h-64 overflow-y-auto"},it=["onClick"],lt={class:"relative"},ct=u(()=>t("i",{class:"fas fa-envelope"},null,-1)),dt=u(()=>t("div",{class:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center"},"5",-1)),ut=[ct,dt],ft={key:0,class:"dropdown-menu"},ht=u(()=>t("p",{class:"p-4 text-gray-700"},"No new messages",-1)),mt=[ht],_t={class:"relative"},gt=["src"],pt={key:0,class:"dropdown-menu"},xt=u(()=>t("p",{class:"p-4 text-gray-700"},"Profile",-1)),vt=u(()=>t("p",{class:"p-4 text-gray-700"},"Settings",-1)),wt=u(()=>t("button",{type:"submit",class:"text-red-600"},"Logout",-1)),bt=[wt];function kt(s,e,c,n,d,a){return r(),i("header",G,[t("div",O,[Q,t("div",J,[t("div",K,[t("span",U,[v("Balance: "),d.showBalance?(r(),i("span",W,"$"+h(d.balance.toFixed(2)),1)):f("",!0)]),t("button",{onClick:e[0]||(e[0]=(...o)=>a.toggleBalance&&a.toggleBalance(...o)),class:"ml-2 text-white focus:outline-none"},[t("i",{class:m(["fas",d.showBalance?"fa-eye-slash":"fa-eye"])},null,2)])]),t("button",{onClick:e[1]||(e[1]=(...o)=>a.receivePayment&&a.receivePayment(...o)),class:"text-white focus:outline-none transform transition-transform hover:scale-110"},Y),t("button",{onClick:e[2]||(e[2]=(...o)=>a.withdrawBalance&&a.withdrawBalance(...o)),class:"text-white focus:outline-none transform transition-transform hover:scale-110"},$),t("div",tt,[t("button",{onClick:e[3]||(e[3]=o=>a.toggleDropdown("notifications")),class:"relative text-white focus:outline-none transform transition-transform hover:scale-110"},[et,n.unreadCount>0?(r(),i("div",ot,h(n.unreadCount),1)):f("",!0)]),d.dropdowns.notifications?(r(),i("div",st,[n.loadingNotifications?(r(),i("div",nt,"Loading...")):n.notifications.length===0?(r(),i("div",at,"No new notifications")):(r(),i("ul",rt,[(r(!0),i(w,null,b(n.notifications,o=>(r(),i("li",{key:o.id,class:"p-4 text-gray-700 border-b border-gray-600"},[v(h(o.data.message)+" ",1),t("button",{onClick:l=>n.markAsRead(o.id),class:"text-blue-600 ml-2"},"Mark as read",8,it)]))),128))]))])):f("",!0)]),t("div",lt,[t("button",{onClick:e[4]||(e[4]=o=>a.toggleDropdown("messages")),class:"relative text-white focus:outline-none transform transition-transform hover:scale-110"},ut),d.dropdowns.messages?(r(),i("div",ft,mt)):f("",!0)]),t("div",_t,[t("button",{onClick:e[5]||(e[5]=o=>a.toggleDropdown("profile")),class:"relative text-white focus:outline-none transform transition-transform hover:scale-110"},[t("img",{src:n.profilePicture,alt:"Profile",class:"rounded-full w-8 h-8 border-2 border-neon"},null,8,gt)]),d.dropdowns.profile?(r(),i("div",pt,[xt,vt,t("form",{onSubmit:e[6]||(e[6]=k((...o)=>a.submitLogout&&a.submitLogout(...o),["prevent"])),class:"p-4 text-gray-700"},bt,32)])):f("",!0)]),t("button",{onClick:e[7]||(e[7]=(...o)=>c.toggleDarkMode&&c.toggleDarkMode(...o)),class:"text-white focus:outline-none transform transition-transform hover:scale-110"},[t("i",{class:m(c.isDarkMode?"fas fa-sun":"fas fa-moon")},null,2)])])])])}const yt=x(z,[["render",kt],["__scopeId","data-v-b46b2723"]]),Mt={components:{Sidebar:q,TutorHeader:yt},setup(){const s=p(!1);return{isDarkMode:s,toggleDarkMode:()=>{s.value=!s.value}}}},Dt={class:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white"},Ct={class:"flex pt-20"},Bt={class:"flex-1 p-6 overflow-y-auto"};function Lt(s,e,c,n,d,a){const o=_("TutorHeader"),l=_("Sidebar");return r(),i("div",Dt,[g(o,{isDarkMode:n.isDarkMode,toggleDarkMode:n.toggleDarkMode},null,8,["isDarkMode","toggleDarkMode"]),t("div",Ct,[g(l),t("main",Bt,[P(s.$slots,"default",{},void 0,!0)])])])}const Nt=x(Mt,[["render",Lt],["__scopeId","data-v-0acbb626"]]);export{Nt as T,yt as a};
